@page "/"
@namespace CSharpCraft.Pages
@addTagHelper *, Microsoft.AspNetCore.Mvc.TagHelpers

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Your Game Title</title>
    <base href="~/" />
    <link href="css/bootstrap/bootstrap.min.css" rel="stylesheet" />
    <link href="css/app.css" rel="stylesheet" />
    <link href="YourProject.styles.css" rel="stylesheet" />




</head>
<body>
    <component type="typeof(App)" render-mode="Server" />
    <script src="_framework/blazor.server.js"></script>


    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/three@0.128.0/examples/js/controls/PointerLockControls.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/three@0.128/examples/js/helpers/VertexNormalsHelper.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/three@0.128.0/examples/js/loaders/GLTFLoader.js"></script>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/microsoft-signalr/8.0.0/signalr.min.js"></script>





    <script src="js/site.js"></script>
    <script src="js/Camera.js"></script>
    <script src="js/TouchControls.js"></script>
    <script src="js/AddRemoveBlock.js"></script>
 

    <script>
    const connection = new signalR.HubConnectionBuilder()
        .withUrl("/gameHub")  // This URL should match the route configured for your Hub in Startup.cs
        .configureLogging(signalR.LogLevel.Information)
        .build();

    connection.on("ReceiveChunkData", function(chunkData) {
        // Handle the incoming chunk data, e.g., render it on the screen
        console.log("Received chunk data:", chunkData);
        renderChunk(chunkData);  // Assuming 'renderChunk' is your function to process and display the chunk
    });

    connection.start().catch(function(err) {
        console.error("Error while starting connection: " + err.toString());
    });

        connection.onclose(async () => {
            console.log('SignalR Disconnected');
            setTimeout(() => {
                connection.start().catch(err => console.error('Failed to restart SignalR connection: ' + err));
            }, 5000); // Attempt to reconnect every 5 seconds
        });
</script>



    
</body>
</html>




